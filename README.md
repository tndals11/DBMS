# 📌 DBMS 기초 학습 정리

---

## 데이터베이스란?

| 용어                      | 설명                                                         |
|--------------------------|------------------------------------------------------------|
| **DB (Database)**        | 데이터를 저장하는 공간                                         |
| **DBMS (Database Management System)** | 데이터를 효율적으로 관리할 수 있는 소프트웨어                      |
| **RDBMS (Relational DBMS)**           | 데이터를 테이블 형태로 저장하고, 테이블 간의 **관계(Relation)**를 통해 관리 |

---

### 🧱 테이블 구성 요소

- **Table (테이블)**: 데이터가 저장되는 기본 단위  
- **Column (열, 속성)**: 데이터의 속성(데이터 유형)  
- **Row (행, 레코드)**: 고유한 데이터 집합 (한 행 = 하나의 레코드)  
- **Key (키)**: 각 레코드를 식별하기 위한 속성 (기본키, 외래키 등)

---

# 🛠️ SQL 언어

> SQL은 DBMS에서 데이터를 **정의, 조작, 제어**하기 위해 사용되는 표준 프로그래밍 언어입니다.

### SQL 분류

- **DDL (Data Definition Language)** : 데이터 정의
- **DML (Data Manipulation Language)** : 데이터 조작
- **DCL (Data Control Language)** : 데이터 제어

---

### 📐 DDL (Data Definition Language)

> 데이터베이스 및 테이블의 구조를 생성, 수정, 삭제할 때 사용합니다.

| 명령어      | 설명                        |
|-------------|-----------------------------|
| `CREATE`    | DB 또는 테이블 생성          |
| `ALTER`     | 기존 구조 수정              |
| `DROP`      | 구조체 삭제 (완전 삭제)     |
| `TRUNCATE`  | 데이터만 삭제, 구조 유지     |

---

## ✍️ DML (Data Manipulation Language)

> 테이블 내 데이터를 조회, 삽입, 수정, 삭제할 때 사용합니다.

| 명령어      | 설명                        |
|-------------|-----------------------------|
| `SELECT`    | 데이터 조회                 |
| `INSERT`    | 데이터 삽입                 |
| `UPDATE`    | 데이터 수정                 |
| `DELETE`    | 데이터 삭제                 |

> 📝 **주의**:  
> - `UPDATE`, `DELETE` 명령어는 **WHERE 절** 사용에 주의해야 하며, 그렇지 않으면 모든 데이터가 변경 또는 삭제될 수 있습니다.  
> - `SELECT`는 데이터 변경 없이 조회만 수행합니다.

---

## 🔐 DCL (Data Control Language)

> 사용자 권한 제어 및 보안 관리에 사용됩니다.

| 명령어      | 설명                        |
|-------------|-----------------------------|
| `GRANT`     | 권한 부여                   |
| `REVOKE`    | 권한 회수                   |

---

## 🏷️ SQL 명명 규칙 (Naming Conventions)

> SQL 객체(테이블, 컬럼 등)의 이름을 지을 때는 **가독성, 유지보수, 일관성**을 고려해야 합니다.

| 규칙       | 설명                                         |
|------------|----------------------------------------------|
| 문자       | 영문 소문자 권장 (`snake_case` 스타일)       |
| 숫자       | 이름에 포함 가능, 단 처음에 숫자 오는 것 주의 |
| 특수문자   | 사용 금지 (언더스코어 `_`만 허용)             |
| 길이       | 30자 이하 권장                               |
| 예약어     | SQL 예약어 사용 금지 (`select`, `from` 등)    |

---

### 📦 테이블명 규칙

| 규칙                    | 예시                     |
|-------------------------|--------------------------|
| 복수형 사용              | `users`, `orders`, `products` |
| 기능/역할 기반 명명      | `user_roles`, `order_items`   |
| 접두사/스키마 사용 (선택) | `auth_users`, `sales_orders`  |

---

### 🧩 컬럼명 규칙

| 규칙                          | 예시                          |
|-------------------------------|-------------------------------|
| `snake_case` 스타일 권장       | `user_id`, `created_at`       |
| 명확하고 구체적으로 작성       | `product_price` 대신 `price` 보다 구체적 |
| 불린값 컬럼은 접두사 활용      | `is_active`, `has_discount`   |

---

## ⚠️ 제약 조건 (Constraints) 정리

데이터베이스 무결성을 유지하고, 데이터의 정확성과 관계를 보장하기 위한 규칙입니다.  
잘못된 데이터 입력, 삭제, 변경을 방지하여 데이터베이스 안정성을 높입니다.

---

### 1. 제약 조건 사용 목적

- **무결성 유지**  
  잘못된 데이터 삽입 방지

- **오류 방지**  
  부적절한 입력, 삭제, 변경 방지

- **관계 유지**  
  테이블 간 연결의 일관성 확보

---

### 2. 제약 조건 종류

| 제약 조건명             | 설명                                         |
|-------------------------|----------------------------------------------|
| **Primary Key (기본 키)** | 행을 고유하게 식별하는 키, 중복/NULL 불가    |
| **Foreign Key (외래 키)** | 다른 테이블 기본 키 참조, 관계 설정          |
| **Unique**               | 컬럼 값 중복 불가, NULL은 하나만 허용 가능    |
| **Check**                | 컬럼 값이 특정 조건을 만족하는지 검증         |
| **NOT NULL**             | 컬럼에 반드시 값 존재, NULL 불가               |
| **Default**              | 값 미입력 시 기본값 자동 설정                  |

---

## 📌 JOIN 이란?

`JOIN`은 두 개 이상의 테이블을 **공통된 컬럼**을 기준으로 연결해, 하나의 통합된 결과 집합을 생성하는 SQL 명령어입니다.

---

## 🧩 JOIN 종류

### 🔗 1. INNER JOIN

- 두 테이블 모두에서 **일치하는 값이 존재하는 행만** 반환합니다.
- 일치하지 않는 데이터는 제외됩니다.

✅ 교집합

---

### ⬅️ 2. LEFT JOIN (LEFT OUTER JOIN)

 ✅ A 중심의 조인 (왼쪽 기준)
-- A의 모든 행 + B에서 일치하는 값
-- B에 값이 없으면 NULL로 채움

---

### 📤 3. RIGHT JOIN (RIGHT OUTER JOIN)
오른쪽 테이블(B)의 모든 행을 포함하고,

왼쪽 테이블(A)에 일치하는 데이터가 있다면 함께 출력합니다.

일치하지 않는 경우에는 NULL이 반환됩니다.

✅ B 중심의 조인 (오른쪽 기준)

---

### 🔄 4. FULL JOIN (FULL OUTER JOIN)
양쪽 테이블의 모든 행을 포함하며,

일치하지 않는 경우 NULL로 채웁니다.

✅ 합집합

⚠️ 일부 DBMS(MySQL 등)는 FULL JOIN을 직접 지원하지 않습니다.
👉 UNION과 함께 사용하거나 LEFT JOIN + RIGHT JOIN 조합 필요

---

### ❌ 5. CROSS JOIN
두 테이블의 **모든 조합(카티션 곱)**을 반환합니다.

조인 조건이 없으므로 결과 행 수 = A 행 수 × B 행 수

✅ 조합 가능한 모든 경우

---

### 📝 JOIN 비교 요약표

| JOIN 종류     | 기준 테이블 | 일치 여부        | 포함 여부                    | NULL 포함 여부        |
|---------------|--------------|-------------------|-------------------------------|------------------------|
| INNER JOIN    | 양쪽         | 일치하는 경우만   | ✅ 일치 데이터만              | ❌ 없음                |
| LEFT JOIN     | 왼쪽 (A)     | 일치 여부 무관    | ✅ A 전부 + B 일부            | ✅ B 없으면 NULL       |
| RIGHT JOIN    | 오른쪽 (B)  | 일치 여부 무관    | ✅ B 전부 + A 일부            | ✅ A 없으면 NULL       |
| FULL JOIN     | 양쪽         | 일치 여부 무관    | ✅ A + B 전체                 | ✅ 모두 가능           |
| CROSS JOIN    | 없음         | 조건 없음         | ✅ 전체 조합 (A × B)          | ❌ 없음 
